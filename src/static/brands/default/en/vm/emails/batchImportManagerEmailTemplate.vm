<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<style>
.errortable_header {
border-style:solid solid solid none;
cursor:pointer;
font-family:Tahoma;
font-size:11px;
font-weight:bold;
text-decoration:none;
text-transform:uppercase;
background-color:#efefef;
}
.errortable_row {
background-color:#FFFFFF;
border-color:#DFDFDF !important;
border-style:none solid solid none;
border-width:0 1px 1px 0;
height:24px;
padding-left:5px;
color:#000000;
font-family:Tahoma,Arial,Verdana,Helvetica,sans-serif;
font-size:11px;
}


</style>
</head>
<body style="font-family:Tahoma;color:#000000;font-size:11px;">  

<div style="position:absolute;margin:0 auto;width: 100%;height: 30%;min-height:100%;background: #fff;">

	<!-- header -->
	<!-- header-end -->
	<div style="position:relative;left: 0;top: 0%;margin:0 auto;width: auto;height: 82%;min-height:82%;overflow-y:scroll;overflow-x:hidden;background: url("brands/default/en/images/leftpannel-back.gif") top left repeat-y;">
	<!-- content-area -->

		<!-- sub-header+arrow -->
			<div  style="position:absolute;left: 0;top: 0%;margin:0 auto;width: 100%;height: 4px;min-height:4px;background: url("brands/default/en/images/left-menu-top-shadow.png") 100% 0px repeat-x;z-index:10;"></div>
		
		<!-- right-pannel-content -->
		<div style="position:relative;float: left;top: 0%;margin:0 auto;width: 76%;height: 100%;min-height:100%;padding: 0px 0px 0px 10px;margin: 0px 0px 0px 0px;">
			
			<!-- button-div -->
			<div style="position:relative;width: 97%;height: 16px;min-height:3%;float: left;border:0px solid #6600FF;"></div>
            <div style="position:relative;width: 97%;height: 16px;min-height:3%;float: left;border:0px solid #6600FF;"></div>
            <div style="position:relative;width: 97%;height: 16px;min-height:3%;float: left;border:0px solid #6600FF;"></div>
			<!-- scrollable-div -->
            
			<!-- Summary-Information -->
			<div style="position:relative;width: 100%;min-height:5%;float: left;text-align:left;padding: 1px 0px 0px 0px;margin: 0px 0px 0px 0px;border:1px solid #ddd;">
				<div id="e12" style="position: relative; height: 26px; min-height: 6%; margin: 0px 2px; font-family:arial; font-size: 12px; font-weight: bold; text-align: left; border-bottom: 1px solid rgb(255, 255, 255); background-color:#efefef; text-transform:uppercase;">
					$brander.getBrandElement("lms.batchImportUsersResult.summaryInformation")
				</div>
				<!-- summary section of batch import result -->
				<div id="e7b" style="position:relative;height:30%;font-size: 11px;font-weight: normal;text-align: left;margin: 3px 10px 3px 20px;border:0px solid #0033FF;">
					<!-- 1 total records in file-->
					<div id="e12" style="position:relative;width:100%;height:20px;font-family: 'Tahoma';font-size: 11px;font-weight: normal;margin: 4px 0px 4px 0px;border:0px solid #0033FF;">
						<div style="width:65%;position:relative;float: left;margin: 0px 0px 0px 0px;">$brander.getBrandElement("lms.batchImportUsersResult.numOfUsers")</div>
						<div style="position:relative;float: right;margin: 0px 0px 0px 0px;">${batchImportResultSummary.totalRecordCount}</div>
					</div>
					<!-- 2 no. of learners added -->
					<div id="e12" style="position:relative;width:100%;height:20px;font-family: 'Tahoma';font-size: 11px;font-weight: normal;margin: 4px 0px 4px 0px;border:0px solid #0033FF;">
						<div style="width:65%;position:relative;float: left;margin: 0px 0px 0px 0px;">$brander.getBrandElement("lms.batchImportUsersResult.numOfUsersImported")</div>
						<div style="position:relative;float: right;margin: 0px 0px 0px 0px;">${batchImportResultSummary.totalImportedUsers}</div>
					</div>
					<!-- 3  no. of learners updated -->
					<div id="e12" style="position:relative;width:100%;height:20px;font-family: 'Tahoma';font-size: 11px;font-weight: normal;margin: 4px 0px 4px 0px;border:0px solid #0033FF;">
						<div style="width:65%;position:relative;float: left;margin: 0px 0px 0px 0px;">$brander.getBrandElement("lms.batchImportUsersResult.existingLearners")</div>
						<div style="position:relative;float: right;margin: 0px 0px 0px 0px;">${batchImportResultSummary.totalUpdatedUsers}</div>
					</div>
                    <!-- 4 no. of errors -->
					<div id="e12" style="position:relative;width:100%;height:20px;font-family: 'Tahoma';font-size: 11px;font-weight: normal;margin: 4px 0px 4px 0px;border:0px solid #0033FF;">
						<div style="width:65%;position:relative;float: left;margin: 0px 0px 0px 0px;">$brander.getBrandElement("lms.batchImportUsersResult.numOfErrors")</div>
						<div style="position:relative;float: right;margin: 0px 0px 0px 0px;">${totalerrors}</div>
					</div>
				</div>
				<!-- End-User-left-right-list -->
			</div>
			<!-- End-Summary-Information -->

			<!-- space -->
			<div style="position:relative;width: 97%;height: 16px;min-height:3%;float: left;border:0px solid #6600FF;"></div>
			<!-- space -->

			<!-- Error Section -->
			<div style="position:relative;width: 100%;min-height:5%;float: left;text-align:left;padding: 1px 0px 0px 0px;margin: 0px 0px 0px 0px;border:1px solid #ddd;">
				<div id="e12" style="position:relative;height: 26px;min-height:6%;background:#f9f9f9;margin: 0px 2px 0px 2px;font-size: 14px;font-weight: normal;text-align: left;border-bottom:1px solid #fff;">
					<div style="position:relative;width: 14%;height:18px;color:#000;font-family:'Verdana';font-weight: bold;font-size:12px;text-align: left;float: left;padding: 4px 0px 0px 0px;">Error Report</div>
				</div>
				
				<table border=0 cellspacing=1 width="100%" >
				<tr class="errortable_header">
					<td>&nbsp;</td>
					<td><b>First Name</b></td>
					<td><b>Last Name</b></td>
					<td><b>Email Address</b></td> 
					<td><b>Username</b></td>
					<td><b>Password</b></td>
					<td><b>State</b></td>
					<td><b>Zip</b></td>
					<td><b>Country</b></td>
					<td><b>Group</b></td>
					
					#set ($cfCounter=0)
					#foreach($record in ${batchImportResultSummary.batchImportErrorsList})
						#if($record.customFields.size()>$cfCounter)
							#set($cfVounter=$record.customFields.size())
						#end
					#end
					
					<td colspan="#cfCounter" align="center"><b>Custom Fields</b></td>
					
					
					#set ($rfCounter=${batchImportResultSummary.batchImportErrorsList.reportingFields.size()})
					
					<td colspan="#rfCounter" align="center"><b>Reporting Fields</b></td>
				</tr>

				 <!-- User-left-right-list -->
				 
					  <!-- 1 -->

                  #foreach($record in ${batchImportResultSummary.batchImportErrorsList})
				 <tr class="errortable_row">
							
					<td>$record.recordNumber</td>
									
					#if($record.invalidFormat == false)
						#if($record.userAlreadyExists == true && $record.currentCustomerUser == false)
							<td>
								${brander.getBrandElement("lms.batchImportUsersResult.isNotCurrentCustomerUser")}
							</td>
							<td>&nbsp;</td>
							<td >&nbsp;</td>
							<td >&nbsp;</td>
							<td >&nbsp;</td>
							<td >&nbsp;</td>
						#elseif($record.userAlreadyExists == true && $batchImportResultSummary.updateExistingUser == false)
							<td >
								
								${brander.getBrandElement("lms.batchImportUsersResult.userAlreadyExists")}
							</td>
							<td >&nbsp;</td>
							<td >&nbsp;</td>
							<td >&nbsp;</td>
							<td >&nbsp;</td>
							<td>&nbsp;</td>
						#else
						    #if($record.firstNameBlank == true)
						   
							<td>No Value</td>
						   
							#else
						     <td >$!{record.firstName}</td>
						    #end

						    #if($record.lastNameBlank == true)
						    
							<td>No Value</td>
						    
							    #else
						     <td >$!{record.lastName}</td>
						    #end

						    #if($record.emailAddressBlank == true)
						    
							<td>No Value</td>
						  
						    #elseif($record.invalidEmailAddress == true)
						    
							<td>Invalid Email Address</td>
						    
							#else
						     <td >$!{record.emailAddress}</td>
						    #end

						    #if($record.userNameBlank == true)
						    
							<td>No Value</td>
						     #elseif($record.userAlreadyExistsInAD == true )
						     <td >$!{record.userName} &nbsp; ${brander.getBrandElement("error.addNewUser.AD.existUsername")}</td>
							    #else
						     <td >$!{record.userName}</td>
						    #end

						    #if($record.passwordBlank == true)
						    
							<td>No Value</td>
						    
						    #elseif($record.shortPassword == true)
						    
							<td>${brander.getBrandElement("lms.batchImportUsersResult.passwordIsShort")}</td>
				
							#else
						    <td >*******</td>
							#end								    
					    	#if($record.invalidState == true)
							    <td>
							    ${brander.getBrandElement("lms.batchImportUsersResult.invalidState")}
							    </td>
						    #else
						   		<td>$record.state</td>
						    #end						    	    
					    	#if($record.invalidZip == true)
							    <td>
							    ${brander.getBrandElement("lms.batchImportUsersResult.invalidZip")}
							    </td>
						    #else
						   		<td >$record.zip</td>
						    #end
					    	#if($record.countryBlank == true)
							    <td>
							    No Value
							    </td>
							#elseif($record.invalidCountry == true)
								<td>
							    ${brander.getBrandElement("lms.batchImportUsersResult.invalidCountry")}
							    </td>
						    #else
						   		<td >$record.country</td>
						    #end
							#if($record.orgGroupMissing == true)
							    <td>
							    ${brander.getBrandElement("lms.batchImportUsersResult.invalidOrgGroup")}
							    </td>
						    #else
						   		<td >&nbsp;</td>
						    #end	
							
							
							
							#if($record.customFields.size()>0)	
    							#foreach($customField in $record.customFields)
    									<td>$customField</td>
    							#end
							#else
								<td >&nbsp;</td>
							#end
							
							
							#if($record.reportingFields.size()>0)	
    							#foreach($reportingField in $record.reportingFields)
    									<td>$reportingField</td>
    							#end
							#else
								<td >&nbsp;</td>
							#end
						
						#end			
					#else
						
							<td>Invalid format</td>
						
						<td >&nbsp;</td>
						<td >&nbsp;</td>
						<td >&nbsp;</td>
						<td >&nbsp;</td>
						<td >&nbsp;</td>
					#end
					<td >&nbsp;</td>
					
					</tr>
					#end
					<!-- end 1 -->
				
				<!-- End-User-left-right-list -->
				
				</table>
			</div>
			<!-- End-others-Information -->

			<!-- space -->
			<div style="position:relative;width: 97%;height: 16px;min-height:3%;float: left;border:0px solid #6600FF;"></div>
			<!-- space -->
			
		<!-- right-pannel-content-end -->
		</div>
	<!-- content-area-end -->
	</div>
	<!-- footer -->
	
	<!-- footer-end -->
</div>

</body>
</html>