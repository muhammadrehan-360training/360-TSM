<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
#parse("snippets/instructor/instructorHead.vm")
<link rel="stylesheet" type="text/css" href="brands/default/en/css/datepicker.css"/>
<script type='text/javascript' src='javascript/jquery.simplemodal.js' ></script>
<script type="text/javascript" language="javascript" src="javascript/js_manager.js"></script>
<script src="javascript/jquery.js" type="text/javascript"></script>
<script type="text/javascript" src="javascript/ui.datepicker.js"></script>



<style type="text/css">

	.endTimeError {
		border:1px solid red;
	}
</style>


<script type="text/javascript" language="javascript">
 function confirm(message, callback) {
        $('#deleteConfirmation').modal({
            close:false,
            position: ["40%",],
            overlayId:'confirmModalOverlay',
            containerId:'confirmModalContainer', 
            onShow: function (dialog) {
                dialog.data.find('.message').append(message);
                
                dialog.data.find('.yes').click(function () {
                    
                    if (jQuery.isFunction(callback)) {
                        callback.apply();
                    }
                    
                    jQuery.modal.close();
                });
            }
        });
    }
		
	function deleteSchedules(){
        if ( $("INPUT[type='checkbox'][name='selectedSessions']:checked").length>0) {
		confirm("Are you sure you want to delete the selected session(s)?" , function () {
			
			var items = [];
			$("input[name='selectedSessions']:checked").each(function(){items.push($(this).val());});
				$("[name='recurrenceSessionsToDelete']").val(items);
				$("[name='_page']").val(6);
			    submitButtonForm(document.manageform,'wizardSubmitter','_target1');
		} ); 
		} else {
            $('#selectedSessionsDiv').modal({overlayId:'confirmModalOverlay',containerId:'confirmModalContainer',close:false,position: ["40%",]});
        }
	}
	
	
	function submitRecurrenceForm(){
		$("[name='_page']").val(4);
		submitButtonForm(document.manageform,'wizardSubmitter','_target3');
	}
   
function recurrencePattern(recPat){
	 
	if( recPat == null  ) 
		return 1 ;
	else if( recPat.length == 0)  
		return 1 ;
		
    var daily = document.getElementById("daily");
    var weekly = document.getElementById("weekly");
    var monthly = document.getElementById("monthly");
    var yearly = document.getElementById("yearly");
    var once = document.getElementById("once");
    var range = document.getElementById("range");

    //alert("pattern : " + recPat);

    daily.style.display = "none";
    weekly.style.display = "none";
    monthly.style.display = "none";
    yearly.style.display = "none";
    
    
	
    switch (recPat){
        case "daily":
             daily.style.display = "block";
             range.style.display = "block";
             weekly.style.display = "none";
             monthly.style.display = "none";
             yearly.style.display = "none";
             once.style.display = "none";
             break;

        case "weekly":
             weekly.style.display = "block";
             range.style.display = "block";
             daily.style.display = "none";
             monthly.style.display = "none";
             yearly.style.display = "none";
             once.style.display = "none";
             break;

        case "monthly":
             monthly.style.display = "block";
             range.style.display = "block";
             daily.style.display = "none";
             weekly.style.display = "none";
             yearly.style.display = "none";
             break;

        case "yearly":
             yearly.style.display = "block";
             range.style.display = "block";
             once.style.display = "none";
             daily.style.display = "none";
             weekly.style.display = "none";
             monthly.style.display = "none";
             break;

        case "once":
              once.style.display = "block";
              range.style.display = "none";
              daily.style.display = "none";
              weekly.style.display = "none";
              monthly.style.display = "none";
              yearly.style.display = "none"
              break;
    }

}

    function FormSubmit(buttonclick) {
        document.getElementById('action').value=buttonclick;
        document.manageform.submit();
    }


function populateEndDate(startDateVal)
{
	try {
		document.getElementById("endDate").value=startDateVal;
	}
	catch(exception) { }
}


    $(document).ready(function(){
      $('#frame_body').height($(window).height() - ($('#header').height()+$('#footer').height()));
        if ($('#right-pannel').height()<$('#frame_body').height()) {
            $('#right-pannel').height($('#frame_body').height());
        }
        $('#sideBar').height($('#right-pannel').height());

        $('#frame_body').scroll(function(){
            $('#message_box').animate({top:$('#frame_body').scrollTop()+"px" },{queue: false, duration: 350});  
        });
        $('#close_message').click(function(){
            $('#message_box').animate({ top:"+=15px",opacity:0 }, "slow");
        });
		calculateDuration();


	});
	
	
	function calculateDuration(){
	
		var startTime = document.getElementById("field_start_time").value;
		var endTime = document.getElementById("field_end_time").value;
		startDate=document.getElementById("startDate").value;
		endDate=document.getElementById("endDate").value;
		startTime = Date.parse("01/01/2010 "+startTime);
		endTime = Date.parse("01/01/2010 "+endTime);
	
			
		var duration = endTime - startTime;
		
	
		var dt = new Date(0, 0, 0, 0, 0, 0, duration);

		var msg = "";
	
		if(dt.getHours()==1){
			msg += "1 hour ";
		}
		else if(dt.getHours()>0){
			msg += dt.getHours()+" hours ";
		}

		if(dt.getMinutes() == 1){
			msg += "1 minute";
		}
		else if(dt.getMinutes()>0){
			msg += dt.getMinutes()+" minutes";
		}
		$('#field_duration').html(msg);
	
	}
</script>
<script src="javascript/360js.js" language="javascript" type="text/javascript" ></script>

</head>

<div id="selectedSessionsDiv" style="display:none">
    <div class="header">$brander.getBrandElement("lms.manageUser.searchLearner.messageBox.warning")</div>
    <div class="alert_message_box_icon"></div>
    <div class="alert_message_box_text">$brander.getBrandElement("lms.manageUser.searchLearner.messageBox.select")</div>
    <br style="clear:both" />
    <div class='buttons'>
        <div class='no simplemodal-close'>
         
		   <div class="btn_start"></div>
                  <div class="btn_normal">$brander.getBrandElement("lms.manageUser.searchLearner.messageBox.OK")</div>
                  <div class="btn_end"></div>
        </div>
    </div>
</div><!-- Alert Message Box Ends -->

<div id='deleteConfirmation' style='display:none'>
    <div class='header'><span>$brander.getBrandElement("lms.manageUser.searchLearner.messageBox.pleaseConfirm")</span></div>
    <div class="alert_message_box_icon"></div>
    <div class="alert_message_box_text">$brander.getBrandElement("lms.instructor.searchSynchronousCourse.messageBox.sure")</div>
    <br style="clear:both" />
     <div class='buttons'>
            <div style="width:300px" class='simplemodal-close'>
                <div style="float: left; margin-top: 2px; margin-right: 5px;">
						  <div>
							  <a  onClick="">
							  <span class="no button">
								<div class="btn_start"></div>
								  <div class="btn_normal">$brander.getBrandElement("lms.manageUser.searchLearner.messageBox.cancel")</div>
								  <div class="btn_end"></div>
							  </span></a>
						  </div>
						  </div>	
						 
						 <div style="float: left; margin-top: 2px; margin-right: 5px;">
						  <div>
							  <a onClick="">
							  <span class="yes button">
								  <div class="btn_start"></div>
								  <div class="btn_normal">$brander.getBrandElement("lms.manageUser.searchLearner.messageBox.OK")</div>
								  <div class="btn_end"></div>
								  
							  </span> </a>
						  </div>
						  </div>	
			
            </div>
	</div>
</div>


 #springBind("classForm.pattern")
<body onLoad="recurrencePattern('$!{status.value}');">	
	 <form name="manageform" action="mgr_addSynchronousClass.do?id=$request.getParameter('id')" method="post">
        
		<table id="table-layout" border="0" cellpadding="0" cellspacing="0">
        
		<!-- Header Row -->
		<tr id="singleColumn-header">
            <td id="header" colspan="2">
				#parse("snippets/instructor/instructorWizardHeader.vm")
			</td>
		</tr>
		
		
		<!-- Page -->
        <tr id="main">
    		<td id="left-navigation" valign="top" style="width:195px;">
        		<table id="table-bands" border="0" cellpadding="0" cellspacing="0"> <!-- Table 3 -->
                    <div>
                        <div id="l-menu-back">
                            <div class="$brander.getBrandElement("lms.sendEmail.cssClass.l-menu-back-text-h")">$brander.getBrandElement("lms.instructor.addSynchronousClass.caption.wizard") <br> $brander.getBrandElement("lms.instructor.addSynchronousClass.caption.showing-2-of-3")</div>
                            <div class="$brander.getBrandElement("lms.manageUser.editLearner.cssClass.l-menu-back-text-acted")">$brander.getBrandElement("lms.instructor.addSynchronousClass.caption.wizardStep1")</div>
                            <div class="$brander.getBrandElement("lms.manageUser.editLearner.cssClass.l-menu-back-text-act")">$brander.getBrandElement("lms.instructor.addSynchronousClass.caption.wizardStep2")</div>
                            <div class="$brander.getBrandElement("lms.manageUser.editLearner.cssClass.l-menu-back-text")">$brander.getBrandElement("lms.instructor.addSynchronousClass.caption.wizardStep3")</div>
                        </div>
                    </div>
        		</table>
        	</td>
    		

			<!-- Page Content -->
			<td id="content">
				
				<!-- Page Scrollable Area -->
				<div id="scrollable">	

                    <form name="manageform" action="mgr_addSynchronousClass.do?id=$request.getParameter('id')" method="post">
                    	<input id="recurrenceSessionsToDelete" type="hidden" name="recurrenceSessionsToDelete" value="" />
                   
                    #springBind("classForm.*")
                        #if($status.error)  
                            #set($errorCodes = [])  
                            #set($temp = true)
    
                            #springBind("classForm.startDate")
                            #if($status.error)
                                #foreach($errorCode in $status.errorCodes)
                                    #set($temp = $errorCodes.add($errorCode))
                                #end
                            #end
                            #springBind("classForm.endDate")
                            #if($status.error)
                                #foreach($errorCode in $status.errorCodes)
                                    #set($temp = $errorCodes.add($errorCode))
                                #end
                            #end
                            #springBind("classForm.startTime")
                            #if($status.error)
                                #foreach($errorCode in $status.errorCodes)
                                    #set($temp = $errorCodes.add($errorCode))
                                #end
                            #end
                            #springBind("classForm.endTime")
                            #if($status.error)
                                #foreach($errorCode in $status.errorCodes)
                                    #set($temp = $errorCodes.add($errorCode))
                                #end
                            #end
    						
    						#springBind("classForm.numberOfWeekDays")

                            #if($status.error)
                                #foreach($errorCode in $status.errorCodes)
                                    #set($temp = $errorCodes.add($errorCode))
                                #end
                            #end
    						
    						#springBind("classForm.recureEvery")
                            #if($status.error)
                                #foreach($errorCode in $status.errorCodes)
                                    #set($temp = $errorCodes.add($errorCode))
                                #end
                            #end
    						
    						#springBind("classForm.monthlyOption")
                            #if($status.error)
                                #foreach($errorCode in $status.errorCodes)
                                    #set($temp = $errorCodes.add($errorCode))
                                #end
                            #end
    						
    						#springBind("classForm.yearlyMonthOption")
                            #if($status.error)
                                #foreach($errorCode in $status.errorCodes)
                                    #set($temp = $errorCodes.add($errorCode))
                                #end
                            #end						
    						
                            #if($errorCodes.size() > 0)
                                <!-- error-box -->
                                <div id="message_box">
                                    <img id="close_message" style="float:right;cursor:pointer"  src="$brander.getBrandElement("lms.errorMessage.pixel.12-em-cross.png")" />
                                    #foreach($errorCode in $errorCodes)         
                                    #set ($error = $brander.getBrandElement($errorCode))
                                    <div class="width40pct">
                                        <div class="message_box_align"><img src="$brander.getBrandElement("lms.errorMessage.pixel.addLearner_06.gif")" width="14" height="14" alt="" /></div>
                                        <div class="message_box_align">$error</div>
                                    </div>
                                   #end
                                </div>
                                <!-- error-box -->
                            #end
                        #end
    

                 <!-- Logo+Manage-User -->
	<table id="table-page-description" border="0" cellpadding="0" cellspacing="0" style="margin-top:15px;margin-bottom:15px">
		    <tr>
			<td id="page-icon" class="page-icon-plan">
			    &nbsp;
			</td>
			<td id="page-description">
			    <div id="page-heading">$brander.getBrandElement("lms.instructor.addSynchronousClass.step1.heading")</div>
			    <div id="page-help">$brander.getBrandElement("lms.instructor.addSynchronousClass.step1.text")</div>
			</td>
		    </tr>
		</table>				 
                <!-- Logo+Manage-User-end -->    
    				<div class="content-Block"><!-- content-Block 1 -->
    					<div id="pattern" class="Block-Contain-header">
    						<div id="pattern1" class="Search-Containerheaderleft">$brander.getBrandElement("lms.instructor.addSynchronousClass.caption.summary")</div>
    					</div>
    					<!-- Recurrence Patterns starts -->
    					<!-- Uzair Rahim 1/14/2010  Ticket No. LMS 4205 Fix Start-->
    					<div id="pattern2" class="$brander.getBrandElement("lms.manageUser.addNewLearner.cssClass.Search-inputfield-box")">
    						
    						#set($isManualSessionTemp = ${classForm.isManualSession()})
    						
    						#springBind("classForm.pattern")
    						<div class="row_text"><input type="radio" name="pattern" tabindex="29" value="once"     #if(${status.value}=="once" || "$!{status.value}"=="") checked #end onclick="recurrencePattern('once');"/> $brander.getBrandElement("lms.instructor.caption.mannual.defaulttext")</div>
    						<div class="row_text"><input type="radio" name="pattern" tabindex="30" value="daily" 	#if($isManualSessionTemp) disabled="true" #end #if(${status.value}=="daily" || "$!{status.value}"=="") checked #end onclick="recurrencePattern('daily');"/> $brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.dailyRecurrence")</div>
    						<div class="row_text"><input type="radio" name="pattern" tabindex="31" value="weekly"   #if($isManualSessionTemp) disabled="true" #end #if(${status.value}=="weekly") checked #end onclick="recurrencePattern('weekly');"/> $brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.weeklyRecurrence") </div>
    						<div class="row_text"><input type="radio" name="pattern" tabindex="32" value="monthly" 	#if($isManualSessionTemp) disabled="true" #end #if(${status.value}=="monthly") checked #end onclick="recurrencePattern('monthly');"/> $brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.monthlyRecurrence")</div>
    						<div class="row_text"><input type="radio" name="pattern" tabindex="33" value="yearly"  	#if($isManualSessionTemp) disabled="true" #end #if(${status.value}=="yearly") checked #end onclick="recurrencePattern('yearly');"/> $brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.yearlyRecurrence")</div>
    						<div class="row_text">&nbsp;</div>
    					</div>
    	                <!-- Uzair Rahim 1/14/2010  Ticket No. LMS 4205 Fix End-->
    				</div><!-- content-Block 1 -->
    
    		    	<div class="com-star-r-t"></div> <!-- for using space b/w the blocks -->
    		    
    		     <!-- Search Result Start -->
    			 <div id="once" class="content-Block" style="display:none"><!-- content-Block 0 -->
    			     <div id="onceA1" class="Block-Contain-header">
    		                    <!-- Result Heading -->
    				  <div style="float:left; height:23px;">
    					
    						<div style="float: left; margin-top: 2px;">
    						  <div>
    					   		<a href="javascript:void(0)" onClick="submitRecurrenceForm();">
    								  <div class="btn_start"></div>
    								  <div class="btn_normal">Add Session</div>
    								  <div class="btn_end"></div>
    							  </a>
    						  </div>
    						  </div>
    						  <div style="float: left; margin-top: 2px; margin-right: 5px;">
    						    <div>
    							  <a  onClick="deleteSchedules();">
    								  <div class="btn_start"></div>
    								  <div class="btn_normal">Delete Session</div>
    								  <div class="btn_end"></div>
    							  </a>
    						  </div>
    						  </div>
    					</div>
    		                    <div class="result_left_side">
    		                        <!-- All Icon -->
    		                        <div id="showAll" class="icon_all" onmouseover="showTooltip('Show All', event);" onmouseout="hideTooltip();" onmousedown="showResult();"></div>
    		                        <!-- Next Icon -->
    		                        <div id="goNext" class="icon_next" onmouseover="showTooltip('Next', event);" onmouseout="hideTooltip();"></div>
    		                        <!-- Back Icon -->
    		                        <div id="goBack" class="icon_back" onmouseover="showTooltip('Back', event);" onmouseout="hideTooltip();"></div>
    		                        <!-- Showing Results -->
    		    
    		                        <div id="resultDescription" class="box_description">Showing 0 - 0 of 0</div>
    		                    </div>
    		                </div>
    		    
    		                <!-- form name="myform" style="margin-bottom:0; margin-top:-1px; margin-left:0;" -->
    		               <div id="searchResult">
    		                    <table width="100%"  cellpadding="0" cellspacing="0" style="margin-top:2px; border-top:1px;">
    		                      <tr bgcolor="#efefef">
    		                        <td class="check_box_top" width="17px">
    								<input id="chkAll" type="checkbox" name="selectedLearner"  style="margin-left:3px"/></td>
    		    
    		                        <td class="box_subheader"><div class="icon_up" ></div>Start Date</td>
    		                        <td class="box_subheader"><div style="margin-left:15px;">Start Time</div></td>
    		                        <td class="box_subheader"><div style="margin-left:15px;">End Date</div></td>
    		                        <td class="box_subheader" style="border-right:none;"><div style="margin-left:15px;" >End Time</div></td>
    		                      </tr>
    		                      #foreach($synchSession 	in ${classForm.synchronousSessionList})
    								#if($velocityCount%2==0)
    								#set($alternate="row_2")
    								#else
    								#set($alternate="row_1")
    								#end
    		                      <tr>
    		                        <td class=$alternate width="17px"><input type="checkbox" name="selectedSessions" value="$!{synchSession.getId()}" style="margin-left:3px"/></td>
    		                        <td class=$alternate>${synchSession.getStartDate()}</td>
    		                        <td class=$alternate>${synchSession.getStartTime()}</td>
    		                        <td class=$alternate>${synchSession.getEndDate()}</td>
    		                        <td class=$alternate style="border-right:none;">${synchSession.getEndTime()}</td>
    		                      </tr>
    		                      #end
    		                    </table>
    		                </div>		
    		    
    		                <!-- /form -->
    		                <!-- Search Result End -->
    		            </div>
    		            <!-- Search Result End -->
    
    		    <div class="com-star-r-t"></div> <!-- for using space b/w the blocks -->
    			
    			<div id="daily" class="content-Block" ><!-- content-Block 2 -->
    				<div id="dailyA1" class="Block-Contain-header">
    					<div id="dailyA2" class="Search-Containerheaderleft">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.dailyRecurrenceRecurrence")</div>
    				</div>
    	
    				<!-- Recurrence starts -->		 
    				<div id="dailyB1" class="$brander.getBrandElement("lms.manageUser.addNewLearner.cssClass.Search-inputfield-box")">
    					<table border="0" width="100%" cellpadding="0" cellspacing="3" heigth="100%">
    					<tr>
    						#springBind("classForm.radioDaily")
    						<td style="padding-left: 15px;"><input type="radio" selected name="radioDaily" style="float:left;" #if(${status.value}=="EveryDay" ) checked #end value="EveryDay"></input>
    							<div class="row_text" style="float: left; margin-top: 3px; margin-left: 2px; margin-right: 7px; padding-left: 0px;">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.ofEvery")</div>
    							#springBind("classForm.numberOfWeekDays")
    							<input type="text" id="field_after" class="input_text_field" style="width:15px; float:left;" value="$!{status.value}" name="$!{status.expression}" ></input>
    							<div class="row_text" style="float: left; margin-left: 7px; margin-top: 3px; padding-left: 0px;">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.day")&nbsp;</div>
    						</td>
    					</tr>
    					<tr>#springBind("classForm.radioDaily")
    						<td width="25%" style="padding-left: 15px;"><input type="radio" name="radioDaily" style="float:left;" #if(${status.value}=="EveryWeekDay") checked #end value="EveryWeekDay" ><div class="row_text" style="margin-top:3px; margin-left:8px;">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.everyWeekday")</div></td>
    					</tr>
    					</table>					
    				</div><!-- Recurrence ends -->
    				<div class="row_text">&nbsp;</div>
    			</div><!-- content-Block 2 -->
    
    			<div class="com-star-r-t"></div> <!-- for using space b/w the blocks -->
    			
    			<div id="weekly" class="content-Block" style="display:none;"><!-- content-Block 5 -->
    		    	<div id="dailyA1" class="Block-Contain-header">
    			 		<div id="dailyA2" class="Search-Containerheaderleft">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.dailyRecurrenceRecurrence")</div><!-- Weekly starts -->
    	    	    </div>
             	
    				<div id="weekly1"  class="$brander.getBrandElement("lms.manageUser.addNewLearner.cssClass.Search-inputfield-box")">
    			 	<table border="0" width="100%" cellpadding="0" cellspacing="3" heigth="100%">
    				<tr>
    					<td>
    						<div class="row_text" style="float:left; margin-top:2px;  margin-right:10px;">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.recureEvery")</div>
    						#springBind("classForm.recureEvery")
    						<input type="text" id="field_after" class="input_text_field" style="width:15px;" value="$!{status.value}" name="$!{status.expression}" />
    						<div class="row_text" style="float:left; margin-left:-5px; margin-top:2px;">week(s) on:</div>
    					</td>
    				</tr>
    				<tr>
    					<td>
    						#springBind("classForm.chkdSunday")
    						#set ($chkdSunday=$!{status.value})
    						<input type="checkbox" name="chkdSunday"  #if(${status.value}=="1") checked #end value="1" style="float:left; margin-left:10px;">
    						<div class="row_text" style="float: left; margin-top: 3px; margin-left: 2px; padding-left: 0px;">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.sunday")</div>
    						
    						#springBind("classForm.chkdMonday")
    						#set ($chkdMonday=$!{status.value})
    						<input type="checkbox" name="chkdMonday" #if(${status.value}=="1") checked #end  value="1" style="float:left; margin-left:15px;">
    						<div class="row_text" style="float: left; margin-top: 3px; margin-left: 2px; padding-left: 0px;">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.monday")</div>
    						
    						#springBind("classForm.chkdTuesday")
    						#set ($chkdTuesday=$!{status.value})
    						<input type="checkbox" name="chkdTuesday" #if(${status.value}=="1") checked #end  value="1" style="float:left; margin-left:15px;">
    						<div class="row_text" style="float: left; margin-top: 3px; margin-left: 2px; padding-left: 0px;">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.tuesday")</div>
    						
    						#springBind("classForm.chkdWednesday")
    						#set ($chkdWednesday=$!{status.value})
    						<input type="checkbox" name="chkdWednesday" #if(${status.value}=="1") checked #end  value="1" style="float:left; margin-left:15px;">
    						<div class="row_text" style="float: left; margin-top: 3px; margin-left: 2px; padding-left: 0px;">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.wednesday")</div>
    						
    						#springBind("classForm.chkdThursday")
    						#set ($chkdThursday=$!{status.value})
    						<input type="checkbox" name="chkdThursday" #if(${status.value}=="1") checked #end  value="1" style="float:left; margin-left:15px;">
    						<div class="row_text" style="float: left; margin-top: 3px; margin-left: 2px; padding-left: 0px;">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.thursday")</div>
    						
    						#springBind("classForm.chkdFriday")
    						#set ($chkdFriday=$!{status.value})
    						<input type="checkbox" name="chkdFriday" #if(${status.value}=="1") checked #end  value="1" style="float:left; margin-left:15px;">
    						<div class="row_text" style="float: left; margin-top: 3px; margin-left: 2px; padding-left: 0px;">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.friday")</div>
    						
    						#springBind("classForm.chkdSaturday")
    						#set ($chkdSaturday=$!{status.value})
    						<input type="checkbox" name="chkdSaturday" #if(${status.value}=="1") checked #end  value="1" style="float:left; margin-left:15px;">
    						<div class="row_text" style="float: left; margin-top: 3px; margin-left: 2px; padding-left: 0px;">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.saturday")</div>
    					</td>
    				</tr>
    			 </table>
    	     	</div><!-- Weekly ends -->
    			<div class="row_text">&nbsp;</div>
    	     </div><!-- content-Block 5 -->
    	     
    	     
    	     <div class="com-star-r-t"></div> <!-- for using space b/w the blocks -->
    		 
    		 <div id="monthly" class="content-Block" style="display:none;"><!-- content-Block 6 -->
    			<div id="dailyA1" class="Block-Contain-header">
    				<div id="dailyA2" class="Search-Containerheaderleft">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.dailyRecurrenceRecurrence")</div>
    			</div>
    			
    			<div id="monthly1"  class="$brander.getBrandElement("lms.manageUser.addNewLearner.cssClass.Search-inputfield-box")"><!-- monthly starts -->
    			<table border="0" width="100%" cellpadding="0" cellspacing="3" heigth="100%">
    			<tr>
    				<td style="padding-left: 15px;">
    					#springBind("classForm.monthlyOption")
    					<input type="radio" #if( $status.value == "upperRadioButton" ) checked #end value="upperRadioButton" name="$!{status.expression}" style="float:left;" />
    					<div class="row_text" style="float: left; margin-top: 3px; margin-left: 2px; margin-right: 7px; padding-left: 0px;">Day</div>
    					#springBind("classForm.dayInputString")
    					<input  name="$!{status.expression}" value="$!{status.value}"  type="text" id="field_after" class="input_text_field" style="width:15px;" value="18" />
    					<div class="row_text" style="float: left; margin-top: 3px; margin-left: 7px; margin-right: 7px; padding-left: 0px;">of every</div>					
    					#springBind("classForm.monthInputString")
    					<input name="$!{status.expression}" value="$!{status.value}" type="text" id="field_after" class="input_text_field" style="width:15px;" value="18" />
    					<div class="row_text" style="float: left; margin-top: 3px; margin-left: 7px; padding-left: 0px;">month(s)</div>
    				</td>
    			</tr>
    			<tr>
    				<td style="padding-left: 15px;">
    					#springBind("classForm.monthlyOption")					
    					<input type="radio"  #if( $status.value == "lowerRadioButton" ) checked #end    value="lowerRadioButton"  style="float:left;"  name="$!{status.expression}"  />
    					<div class="row_text" style="float: left; margin-top: 3px; margin-left: 2px; margin-right: 7px; padding-left: 0px;">The</div>
    					#springBind("classForm.theColMonthly")
    					<div class="row_text" style="float: left; margin-top: 3px; margin-left: 2px; margin-right: 7px; padding-left: 0px;">
    					<select type="text" id="field_after"  name="theColMonthly" style=" width:80px; font-size:11px;">
    						<option #if (${status.value} == "1") selected #end value="1" >first</option>
    						<option #if (${status.value} == "2") selected #end value="2" >second</option>
    						<option #if (${status.value} == "3") selected #end value="3" >third</option>
    						<option #if (${status.value} == "4") selected #end value="4" >fourth</option>
    						<option #if (${status.value} == "0") selected #end value="0" >last</option>
    					</select>					
    					#springBind("classForm.dayColMonthly")
    					<select type="text" id="field_after"  name="dayColMonthly" style="margin-left: 7px; width: 80px; font-size: 11px;">
    						<option #if (${status.value} == "day") selected #end value="day" >day</option>
    						<option #if (${status.value} == "Sun") selected #end value="Sun" >Sunday</option>
    						<option #if (${status.value} == "Mon") selected #end value="Mon" >Monday</option>
    						<option #if (${status.value} == "Tue") selected #end value="Tue" >Tuesday</option>
    						<option #if (${status.value} == "Wed") selected #end value="Wed" >Wednesday</option>
    						<option #if (${status.value} == "Thu") selected #end value="Thu" >Thursday</option>
    						<option #if (${status.value} == "Fri") selected #end value="Fri" >Friday</option>
    						<option #if (${status.value} == "Sat") selected #end value="Sat" >Saturday</option>
    					</select>
    					</div>
    					<div class="row_text" style="float: left; margin-top: 3px; margin-left: 7px; margin-right: 7px; padding-left: 0px;">of every</div>
    					#springBind("classForm.monthInputString2")
    					<input name="$!{status.expression}" value="$!{status.value}"  type="text" id="field_after" class="input_text_field" style="width:15px;" value="18"></input>
    					<div class="row_text" style="float: left; margin-top: 3px; margin-left: 7px; padding-left: 0px;">month(s)</div>					
    			   </td>
    			</tr>
    			</table>
    	     	</div><!-- monthly ends -->
    			<div class="row_text">&nbsp;</div>
    		</div><!-- content-Block 6 -->
    
    		<div class="com-star-r-t"></div> <!-- for using space b/w the blocks -->
    
    		<div id="yearly" class="content-Block" style="display:none;"><!-- content-Block 7 -->
    		     <div id="dailyA1" class="Block-Contain-header">
    			 	<div id="dailyA2" class="Search-Containerheaderleft">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.dailyRecurrenceRecurrence") </div>
    			</div>
    			
    			<div id="yearly1"  class="$brander.getBrandElement("lms.manageUser.addNewLearner.cssClass.Search-inputfield-box")"><!-- yearly starts -->
    			 <table border="0" width="100%" cellpadding="0" cellspacing="3" heigth="100%">
    			<tr>
    				<td style="padding-left: 15px;" >
    					#springBind("classForm.yearlyMonthOption")
    					<input type="radio"  #if( $status.value == "upperRadioButton" ) checked #end value="upperRadioButton" name="$!{status.expression}"  style="float:left;"></input>
    					<div class="row_text" style="float: left; margin-top: 3px; margin-left: 2px; margin-right: 7px; padding-left: 0px;">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.ofEvery")</div>
    					#springBind("classForm.yearlyUpperMonthString")
    					<select type="text" id="field_after"  name="$status.expression" style="float:left; width:80px; font-size:11px;">
    						<option #if (${status.value} == "0") selected #end value="0" >January</option>
    						<option #if (${status.value} == "1") selected #end value="1" >February</option>
    						<option #if (${status.value} == "2") selected #end value="2" >March</option>
    						<option #if (${status.value} == "3") selected #end value="3" >April</option>
    						<option #if (${status.value} == "4") selected #end value="4" >May</option>
    						<option #if (${status.value} == "5") selected #end value="5" >June</option>
    						<option #if (${status.value} == "6") selected #end value="6" >July</option>
    						<option #if (${status.value} == "7") selected #end value="7" >August</option>
    						<option #if (${status.value} == "8") selected #end value="8" >September</option>
    						<option #if (${status.value} == "9") selected #end value="9" >October</option>
    						<option #if (${status.value} == "10") selected #end value="10" >Novemeber</option>
    						<option #if (${status.value} == "11") selected #end value="11" >December</option>
    					</select>
    					#springBind("classForm.yearlyUpperMonthNumberString")
                        <input type="text"  name="$!{status.expression}" value="$!{status.value}"  class="input_text_field" style="width:15px; margin-left:8px;" value="18"></input>
    				</td>
    			</tr>
    			<tr>
    				<td style="padding-left: 15px;" >
    					#springBind("classForm.yearlyMonthOption")
    					<input type="radio"  #if( $status.value == "lowerRadioButton" ) checked #end value="lowerRadioButton" name="$!{status.expression}"  style="float:left;"></input>
                        <div class="row_text" style="float: left; margin-top: 3px; margin-left: 2px; margin-right: 7px; padding-left: 0px;">The</div>
    					<div class="row_text" style="float: left; margin-top: 3px; margin-left: 2px; margin-right: 7px; padding-left: 0px;">
    					#springBind("classForm.theColYearly")
    					<select type="text" id="field_after"  name="theColYearly" style="width:80px; font-size:11px; margin-left:10px;">
    						<option #if (${status.value} == "1") selected #end value="1" >first</option>
    						<option #if (${status.value} == "2") selected #end value="2" >second</option>
    						<option #if (${status.value} == "3") selected #end value="3" >third</option>
    						<option #if (${status.value} == "4") selected #end value="4" >fourth</option>
    						<option #if (${status.value} == "0") selected #end value="0" >last</option>
    					</select>
    					#springBind("classForm.dayColYearly")
    					<select type="text" id="field_after"  name="dayColYearly" style=" margin-left:8px; width:80px; font-size:11px;">
    						<option #if (${status.value} == "day") selected #end value="day" >day</option>
    						<option #if (${status.value} == "Sun") selected #end value="Sun" >Sunday</option>
    						<option #if (${status.value} == "Mon") selected #end value="Mon" >Monday</option>
    						<option #if (${status.value} == "Tue") selected #end value="Tue" >Tuesday</option>
    						<option #if (${status.value} == "Wed") selected #end value="Wed" >Wednesday</option>
    						<option #if (${status.value} == "Thu") selected #end value="Thu" >Thursday</option>
    						<option #if (${status.value} == "Fri") selected #end value="Fri" >Friday</option>
    						<option #if (${status.value} == "Sat") selected #end value="Sat" >Saturday</option>
    					</select>
    					</div>
    					#springBind("classForm.ofMonth")
    					<div class="row_text" style="float: left; margin-top: 3px; margin-left: 2px; margin-right: 7px; padding-left: 0px;">of</div>
    					<select type="text" id="field_after"  name="ofMonth" style="width:80px; font-size:11px;">
    						<option #if (${status.value} == "0") selected #end value="0" >January</option>
    						<option #if (${status.value} == "1") selected #end value="1" >February</option>
    						<option #if (${status.value} == "2") selected #end value="2" >March</option>
    						<option #if (${status.value} == "3") selected #end value="3" >April</option>
    						<option #if (${status.value} == "4") selected #end value="4" >May</option>
    						<option #if (${status.value} == "5") selected #end value="5" >June</option>
    						<option #if (${status.value} == "6") selected #end value="6" >July</option>
    						<option #if (${status.value} == "7") selected #end value="7" >August</option>
    						<option #if (${status.value} == "8") selected #end value="8" >September</option>
    						<option #if (${status.value} == "9") selected #end value="9" >October</option>
    						<option #if (${status.value} == "10") selected #end value="10" >Novemeber</option>
    						<option #if (${status.value} == "11") selected #end value="11" >December</option>
    					</select>
    			   </td>
    		       </tr>
    		       </table>
    			 </div><!-- yearly ends -->
    			 <div class="row_text">&nbsp;</div>
    	     </div><!-- content-Block 7 -->
    
    		 <div class="com-star-r-t"></div> <!-- for using space b/w the blocks -->
    
    		<div id="range" class="content-Block" ><!-- content-Block 3 -->
    			<div id="e7a" class="Block-Contain-header">
    				<div id="e8" class="Search-Containerheaderleft">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.rangeOfRecurrence")</div>
    			</div>
    
    			<div class="$brander.getBrandElement("lms.manageUser.addNewLearner.cssClass.Search-inputfield-box")">
    			<table border="0" width="100%" cellpadding="0" cellspacing="3" heigth="100%">
    			<tr>
    				<td width="20%"><span class="row_text">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.startDate")</span></td>
    				<td width="30%">
                    <div style="float:left">
    				#springBind("classForm.startDate")				
                    <input type="text" onKeyPress="if(event.keyCode==13){FormSubmit('advanceSearch');}"  id="startDate" date:closeAtTop="false" date:buttonText="$brander.getBrandElement("lms.administrator.updateEntitlements.calender.tooltipStartDate")" name="startDate" value="$!{status.value}" style="width:62%;height:15px;position:absolue;text-align: left;float: left;left: 100px;margin: 0px 0px 0px 0px;" onchange="populateEndDate(this.value);" />
    				<script type="text/javascript">
    					jQuery.noConflict();
    					jQuery("#startDate").datepicker({ 
    					showOn: "both", 
    					buttonImage: "$brander.getBrandElement("lms.pixel.iconCalenderGif")", 
    					buttonImageOnly: true 
    				});
    				</script>
    				</div>
    				</td>
    				#springBind("classForm.endRange")
    	            <td width="59%">
    					<input  #if( ${status.value} == "NoEndDate" ) checked #end type="radio" name="endRange" value="NoEndDate" style="float:left;" ><div class="row_text" style="margin-top:3px; margin-left:8px;">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.noEndDate")</div>
    				</td>
    	            <td width="1%">&nbsp;</td>
    			</tr>
    			<tr>
    				<td>&nbsp;</td>	
    				<td>&nbsp;</td>
    				#springBind("classForm.endRange") 
    				<td>
    					<input type="radio" name="endRange" #if( ${status.value} == "EndAfter" ) checked #end value="EndAfter" style="float:left;">
    					<div class="row_text" style="float: left; margin-top: 3px; margin-left: 2px; margin-right: 15px; padding-left: 0px;">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.endAfter")</div>
    					#springBind("classForm.totalOccurences")					
    					<input type="text" id="field_after" name="totalOccurences" class="input_text_field" style="width:15px;" value="$!{status.value}"></input>
    					<div class="row_text" style="float: left; margin-left: 7px; margin-top: 3px; padding-left: 0px;">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.occurences")</div>
    				</td>
    
    				<td>&nbsp;</td>
    			</tr>
    	 		<tr>
    				<td>&nbsp;</td>
    				<td>&nbsp;</td>
    				<td>
    					#springBind("classForm.endRange")
    					<input type="radio" name="endRange"  #if(${status.value}=="EndDate"  ) checked #end value="EndDate"  style="float:left;">
    					<div class="row_text" style="float: left; margin-top: 3px; margin-left: 2px; margin-right: 15px; padding-left: 0px;">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.endDate")</div>
    					#springBind("classForm.endDate")
    					<!-- input type="text" id="field_by" name="endDate" class="input_text_field" style="width:52px;" value="$!{status.value}"></input><div class="icon_calen"></div -->
                        <input type="text" onKeyPress="if(event.keyCode==13){FormSubmit('advanceSearch');}"  id="endDate" date:closeAtTop="false" date:buttonText="$brander.getBrandElement("lms.administrator.updateEntitlements.calender.tooltipStartDate")" name="endDate" value="$!{status.value}" style="width:25%;height:15px;position:absolue;text-align: left;float: left;left: 100px;margin: 0px 0px 0px 0px;" />
    					<script type="text/javascript">
    						jQuery.noConflict();
    						jQuery("#endDate").datepicker({ 
    						showOn: "both", 
    						buttonImage: "$brander.getBrandElement("lms.pixel.iconCalenderGif")", 
    						buttonImageOnly: true 
    					});
    					</script>
    				</td>
    				<td>&nbsp;</td>
    			</tr>
    	 		<tr>
    				<td><span class="row_text">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.startTime")</span></td>
    				<td>
    					#springBind("classForm.startTime")
    					#set($tc_value =$!{status.value})
    					#set($fieldName ="startTime")
    					#set($fieldId ="field_start_time")
    					#set($function ="onchange=calculateDuration()")
    					#parse("snippets/timecontrol/timeControlDefinitionTemplate.vm")
    					#set($tc_value ="")
    				</td>
    				<td>&nbsp;</td>
    				<td>&nbsp;</td>
    			</tr>
    			<tr>
    				<td><span class="row_text">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.endTime")</span></td>
    				<td>
    					#springBind("classForm.endTime")
    					#set($tc_value =$!{status.value})
    					#set($fieldName ="endTime")
    					#set($fieldId ="field_end_time")
    					<div>#parse("snippets/timecontrol/timeControlDefinitionTemplate.vm")</div>
    					#set($tc_value ="")
    				<td>&nbsp;</td>
    				<td>&nbsp;</td>
    			</tr>
    			<tr>
    				<td><span class="row_text">$brander.getBrandElement("lms.instructor.scheduleTab.schedulingTab.caption.Duration")</span></td>
    				<td><span id="field_duration" class="row_text"></span></td>
    				##<td><input type="text" id="field_duration" readonly class="input_text_field" style="margin-left:0px;" /></td>
    				<td></td>
    				<td></td>
    			</tr>
    		</table>
    		</div><!-- Recurrence ends -->
    		<div class="row_text">&nbsp;</div>
    		</div><!-- content-Block 3 -->
    
                        <!-- space -->
                        <div class="$brander.getBrandElement("lms.manageUser.addNewLearner.cssClass.manager-bottom-space")"></div>
                        <!-- space -->
                        <!-- button-div -->
    					<input type="hidden" id="currentpage" name="_page" value="1"/>
    					<input type="hidden" id="wizardSubmitter" name="wizardSubmitter" />
    						<div style="float: right; margin-top: 15px; margin-right: 20px;">
                  <div>
                      <a onClick="submitButtonForm(document.manageform,'wizardSubmitter','_target2');">
                          <div class="btn_start"></div>
                          <div class="btn_normal">$brander.getBrandElement("lms.Instructor.button.Next")</div>
                          <div class="btn_end"></div>
                      </a>
                  </div>
               </div>
                       <div style="float: right; margin-top: 15px; margin-right: 15px;">
                  <a onClick="submitButtonForm(document.manageform,'wizardSubmitter','_target0');">
                      <div class="btn_start"></div>
                      <div class="btn_normal">$brander.getBrandElement("lms.manageUser.viewNewLearner.caption.Previous")</div>
                      <div class="btn_end"></div>
                  </a>
               </div>	 
                
    			<div style="float: left; margin-top: 15px; margin-left: 20px;">
                  <div>
                      <a onClick="location.href='mgr_manageSynchronousClass.do?id=$request.getParameter("id")';">
                          <div class="btn_start"></div>
                         <div class="btn_normal">$brander.getBrandElement("lms.Instructor.button.Cancel")</div>
                          <div class="btn_end"></div>
                      </a>
                  </div>
               </div>
                    <!-- space -->
                    <div class="manager-bottom-space"></div>
                    <!-- space -->

                </div>
            	<!-- END: Page Scrollable Area -->				
            </td>
        </tr>
		<!-- END: Page-->
		<tr> <!-- Footer BLOCK -->
        	<td id="footer" colspan="2">
                #parse("snippets/learnerNewFooter.vm")
        	</td>
		</tr>
	</table>
		
    </form>
</body>
</html>