<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>#parse("snippets/learnerNewHead.vm")<script type="text/javascript" language="javascript" src="javascript/js_manager.js"></script><script type='text/javascript' src='javascript/jquery.simplemodal.js' ></script> <script type="text/javascript">function deleteConfirmation() {        var answer = confirm("Do You want to delete Learner?")        if (answer) {                return true;        } else {                return false;        }}function append2CheckedUserValue(checkedId, selectedId){        document.manageform.userName.value=ob.value;                var checkedUserObj=document.getElementByName(checkedId);        var selectedCOwnerObj=document.getElementById(selectedId);        checkedUserObj.value = checkedUserObj + "-" + selectedCOwnerObj.value;}function FormSubmit(buttonclick) {        //alert(buttonclick);                document.getElementById('action').value=buttonclick;        document.searchManageForm.submit();}function FormSubmit2(buttonclick, countCheckBoxes) {        //window.alert("inside function");        var drpContentOwner = document.getElementsByName('drpContentOwner');        if (drpContentOwner.length > 0) {        //window.alert("inside if");        for(var i = 1; i <= countCheckBoxes; i++){            //alert("inside the for loop");            var objCheckBox=document.getElementById("chk"+i);            var objSelectedCOwner=document.getElementById("select"+i);                        if(objCheckBox.checked){                //objCheckBox.checked=true;                objCheckBox.value = objCheckBox.value + "-" + objSelectedCOwner.value;                //alert("assigning the values successfully" + " - " + objCheckBox.value);            }        }        }        //alert(buttonclick);        if ($("INPUT[type='checkbox'][name='selectedUsers']:checked").length>0) {                document.getElementById('updateAction').value=buttonclick;                document.updateManageForm.submit();        } else {                $('#selectLearner').modal({close:false,position: ["40%",]});        }}function changeRowColor(checkbox) {      var tr=checkbox.parentNode.parentNode;      var tdarr=$(tr).find("td");      if (checkbox.checked) {          for(i=0;i<tdarr.size();i++){            tdarr[i].style.background="#E9F9FE";          }      } else {          for(i=0;i<tdarr.size();i++){            tdarr[i].removeAttribute("style");          }      }}function selectAllCheckBoxes(countCheckBoxes){        var objCheckAll=document.getElementById("chkAll");        if (objCheckAll.checked) {                for(var i = 1; i <= countCheckBoxes; i++){                        var objCheckBox=document.getElementById("chk"+i);                        if(!objCheckBox.disabled){                        objCheckBox.checked=true;                        changeRowColor(objCheckBox);                        }                }        } else {                for(var i = 1; i <= countCheckBoxes; i++){                        var objCheckBox=document.getElementById("chk"+i);                        objCheckBox.checked=false;                        changeRowColor(objCheckBox);                }        }}</script>#set($ssn=$!{request.getSession(true)})#set($act = $ssn.getAttribute("previousAction"))<script type="text/javascript">        $(document).ready(function(){                                   $(".$brander.getBrandElement("lms.manageUser.addNewLearner.cssClass.Search-inputfield-box")").show();                $(".$brander.getBrandElement("lms.mycourses.cssClass.Block-Contain-header")").click(function(){                        //image object                        var pImgObject=this.getElementsByTagName("div")[1].getElementsByTagName("img")[0];                        if(pImgObject.getAttribute("isHidden")=="1") {                                pImgObject.src="brands/default/en/images/minus.gif";                                pImgObject.setAttribute("isHidden","0");                                 pImgObject.title="Collapse";                        }else{                                pImgObject.src="brands/default/en/images/plus.gif";                                pImgObject.setAttribute("isHidden","1");                                pImgObject.title="Expand";                        }                        $(this).next(".$brander.getBrandElement("lms.manageUser.addNewLearner.cssClass.Search-inputfield-box")").slideToggle(100);                });        });</script></head><body><table id="table-layout" border="0" cellpadding="0" cellspacing="0"> <!-- Table 1 -->	   <tr> <!-- First Block -->			<td id="header" colspan="2"><!-- header -->               <!-- header -->               #if($userData.isLMSAdministrator() && $adminCurrentMode == 'ROLE_LMSADMINISTRATOR')                  #parse("snippets/adminHeader.vm")               #else                  #parse("snippets/managerHeader.vm")               #end                 <!-- header-end -->			</td>		</tr>		 		<tr id="main"> <! SECOND BLOCK -->            <!-- left-pannel-content -->			<td id="left-navigation" valign="top">				<table id="table-bands" border="0" cellpadding="0" cellspacing="0"> <!-- Table 3 -->         	<!-- left-pannel-content -->                 #if($userData.isLMSAdministrator() && $adminCurrentMode == 'ROLE_LMSADMINISTRATOR')                    #parse("snippets/adminSecurityLeftMenu.vm")                 #else                    #parse("snippets/managerLeftMenu.vm")                 #end				 </table>			</td>			        <TD id="scrollable" vAlign="top" style="float:left;">        #if($!{context.errorNoSelection})                #set($errorCodes = [])                  #set($temp = true)                #if($!{context.errorNoSelection})                #set($temp = $errorCodes.add(${context.errorNoSelection}))                #end                <!-- error-box -->                <div id="message_box">                <img id="close_message" style="float:right;cursor:pointer"  src="$brander.getBrandElement("lms.errorMessage.pixel.12-em-cross.png")" />                #foreach($errorCode in $errorCodes)                        #set ($error = $brander.getBrandElement($errorCode))                        <div class="width40pct">                                <div class="message_box_align"><img src="$brander.getBrandElement("lms.errorMessage.pixel.addLearner_06.gif")" width="14" height="14" alt="" /></div>                                <div class="message_box_align">$error</div>                        </div>                #end                </div>                <!-- error-box -->        #end        <!-- right-pannel-content -->                <!-- Logo+Manage-User -->		<table id="table-page-description" border="0" cellpadding="0" cellspacing="0" style="margin-top:15px;margin-bottom:15px">		    <tr>			<td id="page-icon" class="page-icon-users">			    &nbsp;			</td>			<td id="page-description">			    <div id="page-heading">$brander.getBrandElement("lms.securityroles.addmembers.pageheading.AddMembers")</div>			    <div id="page-help">$brander.getBrandElement("lms.securityroles.addmembers.pageheading.description")</div>			</td>		    </tr>		</table>                 <!-- Logo+Manage-User-end -->        <!-- Search-User -->        <!-- ************************************************************** -->        <!-- Search Result Start -->        <div id="resultBox" class="content-Block-new">        <!-- Result Header Start -->                        <form name="searchManageForm" method="post" action="mgr_addMemberInRole.do?roleId=$!{context.roleid}&roleType=$!{context.roleType}">                                <div id="searchBox" class="visible">                                        $brander.getBrandElement("lms.manageUser.searchLearner.caption.searchUsers")<br/><br/>                                        <div style="float:left">$brander.getBrandElement("lms.manageUser.searchLearner.caption.firstName")</div> <input type="text" onKeyPress="if(event.keyCode==13){FormSubmit('advanceSearch');}" name="firstname" value="$!{context.firstName}" style="font-size:9px;float:right; margin-right:15px; width:170px"/><br/><br/>                                        <div style="float:left">$brander.getBrandElement("lms.manageUser.searchLearner.caption.lastName")</div> <input type="text" onKeyPress="if(event.keyCode==13){FormSubmit('advanceSearch');}"  name="lastname"value="$!{context.lastName}" style="font-size:9px;float:right; margin-right:15px; width:170px"/><br/><br/>                                        <div style="float:left">$brander.getBrandElement("lms.manageUser.searchLearner.caption.emailAddress")</div> <input type="text" onKeyPress="if(event.keyCode==13){FormSubmit('advanceSearch');}" name="emailaddress" value="$!{context.emailAddress}" style="font-size:9px;float:right; margin-right:15px; width:170px"/><br/><br/>                                        <br>                                        <div style="float:right; margin-top:2px; margin-right:15px;">												<a class="button" onClick="FormSubmit('advanceSearch');"><span class="button">$brander.getBrandElement("lms.manageUser.searchLearner.caption.search")</span></a>																								<input id="action" type="hidden" name="action" value="advanceSearch" />                                                        <input id="direction" type="hidden" name="direction" value="prev" />                                                        <input id="pageIndex" type="hidden" name="pageIndex" value="0" />																																				                                        </div>                                        <div style="float:right; margin-top:2px; ">												<a class="button" onClick="showSearchBox(this);"><span class="button">$brander.getBrandElement("lms.manageUser.viewOrganizationGroup.caption.Cancel")</span></a>                                        </div>                                </div>                           </form>                        <div id="resultHeader" class="box_header">                        <form name="nextPrevManageForm" method="post" action="mgr_addMemberInRole.do?roleId=$!{context.roleid}&roleType=$!{context.roleType}">                                <div class="result_left_side">                                        <!-- Result Description -->										<div style="float:left; margin-top:2px;">										  <a onClick="showSearchBox(document.getElementById('srch'));" style="text-decoration:none;">											  <div class="btn_start"></div>											  <div class="btn_normal">$brander.getBrandElement("lms.manageUser.searchLearner.caption.search")</div>											  <div class="btn_end"></div>										  </a>										</div>										                                        <!-- All Icon -->                                        #if($!{context.recordShowing} == $!{context.totalRecord})			                                <div id="showAll" class="icon_disabled">&nbsp;</div>			                            #else                                                                        	<a href="?roleId=$!{context.roleid}&roleType=$!{context.roleType}&action=allSearch&direction=prev&pageIndex=0"><div id="showAll" class="icon_all" onmouseover="showTooltip('Show All', event);" onmouseout="hideTooltip();"></div></a>										#end										                                        <!-- Next Icon -->                                        #if($!{context.recordShowing} == $!{context.totalRecord})                                        <div id="goNext" class="icon_disabled">&nbsp;</div>                                        #else                                        <a href="?roleId=$!{context.roleid}&roleType=$!{context.roleType}&action=$!{context.searchType}&direction=next&pageIndex=$!{context.pageNo}&sortBy=${context.sortBy}"&sortDirection=${context.sortDirection}"><div id="goNext" class="icon_next" onmouseover="showTooltip('Next', event);" onmouseout="hideTooltip();"></div></a>                                        #end                                        <!-- Back Icon -->                                        #if ($!{context.pageNo} == 0)                                        <div id="goBack" class="icon_disabled">&nbsp;</div>                                        #else                                        <a href="?roleId=$!{context.roleid}&roleType=$!{context.roleType}&action=$!{context.searchType}&direction=prev&pageIndex=$!{context.pageNo}&sortBy=${context.sortBy}"&sortDirection=${context.sortDirection}"><div id="goBack" class="icon_back" onmouseover="showTooltip('Back', event);" onmouseout="hideTooltip();"></div></a>                                        #end                                        <!-- Showing Results -->                                        #set($lPpageNum =$!{context.pageNo} *10 + 1)                                        #set($rPpageNum =$!{context.recordShowing})                                        <div id="resultDescription" class="box_description">Showing #if($!{context.totalRecord}<=0) 0 - 0 of 0 #else $lPpageNum - $rPpageNum of $!{context.totalRecord} #end</div>                                </div>                                ##<input id="action" type="hidden" name="action" value="advanceSearch" />                        </form>                </div>                <!-- Result Header End -->						                <form name="updateManageForm" method="post" action="mgr_addMemberInRole.do?roleId=$!{context.roleid}&roleType=$!{context.roleType}" style="margin-bottom:0; margin-top:-1px; margin-left:0;">		                #if ($!{context.totalRecord} > 0)				                <!-- Search Result Start -->		                #set($totCount=$context.members.size())		                <div id="searchResult_2" class="">		                        <table width="100%"  cellpadding="0" cellspacing="0" style="border-top:1px;">		                        #if($act == 'sort')		                                #set($dir = 1)		                        #else		                                #set($dir = 0)		                        #end		                                <tr bgcolor="#efefef">		                                        <td class="check_box_top" width="17px"><input type="checkbox" id="chkAll" onClick="selectAllCheckBoxes($totCount);" name="allSelectedLearner" style="margin-left:3px"/></td>		                                        <td class="box_subheader"><div onClick="location.href='?roleId=${context.roleid}&roleType=$!{context.roleType}&action=sort&direction=${context.direction}&pageIndex=$!{context.pageNo}&sortBy=firstName&sortDirection=${context.sortDirection}';" ><div id="firstNameSort" #if((${context.sortDirection}==$dir)&&($context.sortBy)=="firstName")) class="icon_up" #elseif($context.sortBy=="firstName") class="icon_down" #end ></div>$brander.getBrandElement("lms.manageUser.addNewLearner.caption.firstName")</div></td>		                                        <td class="box_subheader"><div onClick="location.href='?roleId=${context.roleid}&roleType=$!{context.roleType}&action=sort&direction=${context.direction}&pageIndex=$!{context.pageNo}&sortBy=lastName&sortDirection=${context.sortDirection}';"><div id="lastNameSort"#if((${context.sortDirection}==$dir)&&($context.sortBy)=="lastName")) class="icon_up" #elseif($context.sortBy=="lastName") class="icon_down" #end ></div>$brander.getBrandElement("lms.manageUser.addNewLearner.caption.lastName")</div></td>		                                        <td class="box_subheader"><div onClick="location.href='?roleId=${context.roleid}&roleType=$!{context.roleType}&action=sort&direction=${context.direction}&pageIndex=$!{context.pageNo}&sortBy=username&sortDirection=${context.sortDirection}';"><div id="userNameSort"#if((${context.sortDirection}==$dir)&&($context.sortBy)=="username")) class="icon_up" #elseif($context.sortBy=="username") class="icon_down" #end ></div>$brander.getBrandElement("lms.manageUser.searchLearner.caption.UserName")</div></td>		                                        <td class="box_subheader"><div onClick="location.href='?roleId=${context.roleid}&roleType=$!{context.roleType}&action=sort&direction=${context.direction}&pageIndex=$!{context.pageNo}&sortBy=accountNonLocked&sortDirection=${context.sortDirection}';"><div id="accountSort"  #if((${context.sortDirection}==$dir)&&($context.sortBy)=="accountNonLocked")) class="icon_up" #elseif($context.sortBy=="accountNonLocked") class="icon_down" #end></div>$brander.getBrandElement("lms.manageUser.searchLearner.caption.AccountLocked")</td>														                                </tr>		                                        #foreach($learner in ${context.members})		                                                #if($velocityCount%2==0)		                                                        #set($alternate="row_2")		                                                #else		                                                        #set($alternate="row_1")		                                                #end		                                <tr>		                                        <td class="$alternate" width="17px"><input type="checkbox" name="selectedUsers" value="${learner.id}" id="chk$velocityCount" onClick="changeRowColor(chk$velocityCount);"/></td>		                                        <td class="$alternate">$!{learner.firstName}</td>		                                        <td class="$alternate">$!{learner.lastName}</td>		                                        <td class="$alternate">$!{learner.username}</td>		                                        <td class="$alternate">#if(${learner.accountNonLocked})no #else yes #end</td>		                                                		                                                		                                </tr>		                                #end		                        </table>		                </div>		        #else		        <!-- Result Subheader Start -->		                <div id="searchResult_1">		                        <table width="100%" cellpadding="0" cellspacing="0" style="margin-top:1px;">		                        <tr bgcolor="#efefef">		                                <td class="check_box_top" width="17px"><input type="checkbox" name="allSelectedLearner" onClick="checkAll(document.myform.row)"/></td>		                                <td class="box_subheader"><div class="icon_up" ></div>$brander.getBrandElement("lms.manageUser.searchLearner.caption.firstName")</td>		                                <td class="box_subheader"><div class="icon_up" ></div>$brander.getBrandElement("lms.manageUser.searchLearner.caption.lastName")</td>		                                <td class="box_subheader"><div class="icon_up" ></div>$brander.getBrandElement("lms.manageUser.searchLearner.caption.UserName")</td>		                                <td class="box_subheader"><div class="icon_up" ></div>$brander.getBrandElement("lms.manageUser.searchLearner.caption.AccountLocked")</td>		                        </tr>		                        <tr>		                                <td colspan="6" style="border-bottom:1px solid;border-color:#dfdfdf !Important;">		                                    <div class="result_blank">#if(! $request.getAttribute("newPage")) $brander.getBrandElement("lms.searchLearner.caption.noRecordFound") #else To search click on the Search button above #end</div>		                                </td>		                            </tr>		                        </table>		                        		                </div>		                <!-- Result Subheader End -->		                #end		                <!-- Search Result End -->				        </div>		        <!-- Search Result End -->				<!-- ************************************************************** -->        <div class="managerBtn">                <input type="hidden" id="updateAction" name="action" value='action' />				<div style="float:right; margin-top:3px;">				  <a onClick="FormSubmit2('update', $context.members.size());" style="text-decoration:none;">					  <div class="btn_start"></div>					  <div class="btn_normal">Update</div>					  <div class="btn_end"></div>				  </a>				</div>				<div style="float:right; margin-top:3px;margin-right:5px;">				  <a onClick="window.location.href='mgr_changeMemberRole.do?roleId=$!{context.roleid}&roleType=$!{context.roleType}'" style="text-decoration:none;">					  <div class="btn_start"></div>					  <div class="btn_normal">$brander.getBrandElement("lms.manageUser.addNewLearner.caption.btnCancel")</div>					  <div class="btn_end"></div>				  </a>				</div>        	</div>        </form>        <!-- space -->        <div class="$brander.getBrandElement("lms.manageUser.addNewLearner.cssClass.manager-bottom-space")"></div>        <!-- space -->        </td>		</tr>				<tr> <!-- Footer BLOCK -->			<td id="footer" colspan="2">               <!-- footer -->               #if($userData.isLMSAdministrator() && $adminCurrentMode == 'ROLE_LMSADMINISTRATOR')                  #parse("snippets/adminFooter.vm")               #else                  #parse("snippets/managerFooter.vm")               #end                  <!-- footer-end -->			</td>		</tr></table><div id="selectLearner" style="display:none">    <div class="header">$brander.getBrandElement("lms.manageUser.searchLearner.messageBox.warning")</div>    <div class="alert_message_box_icon"></div>    <div class="alert_message_box_text">$brander.getBrandElement("lms.manageUser.searchLearner.messageBox.select")</div>    <br style="clear:both" />    <div class='buttons'>        <div class='no simplemodal-close'>            <a class="button" ><span class="button">$brander.getBrandElement("lms.manageUser.searchLearner.messageBox.OK")</span></a>        </div>    </div></div></body></html>